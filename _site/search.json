[
  {
    "objectID": "01-cleaning.html",
    "href": "01-cleaning.html",
    "title": "Cleaning",
    "section": "",
    "text": "The steps we’ll take to prepare our data:\n\nDownload the data\nImport it into our notebook\nClean up data types and columns\nExport the data for next notebook\nMake sure that the updated data that covers the year 2023, aligns with the rest of the data."
  },
  {
    "objectID": "01-cleaning.html#goals-of-this-notebook",
    "href": "01-cleaning.html#goals-of-this-notebook",
    "title": "Cleaning",
    "section": "",
    "text": "The steps we’ll take to prepare our data:\n\nDownload the data\nImport it into our notebook\nClean up data types and columns\nExport the data for next notebook\nMake sure that the updated data that covers the year 2023, aligns with the rest of the data."
  },
  {
    "objectID": "01-cleaning.html#setup",
    "href": "01-cleaning.html#setup",
    "title": "Cleaning",
    "section": "Setup",
    "text": "Setup\nLoading up the libraries:\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(readxl)"
  },
  {
    "objectID": "01-cleaning.html#downloading-data",
    "href": "01-cleaning.html#downloading-data",
    "title": "Cleaning",
    "section": "Downloading Data",
    "text": "Downloading Data\nHere I will download the TCEQ data that I obtained from a public records request. The data goes over the counties or jurisdictions affected by water boil notices, start and end date of a water boil notice and the nature of the water boil notice.\nMore information about the data can be found on the index page of this notebook.\nDownloaded the file straight into my computer rather than downloading it into this notebook because its in Excel formatting. I dowloaded the data into my data-raw folder."
  },
  {
    "objectID": "01-cleaning.html#importing-the-data",
    "href": "01-cleaning.html#importing-the-data",
    "title": "Cleaning",
    "section": "Importing the Data",
    "text": "Importing the Data\nHere I am reading the data into my notebook that I already have downloaded to my “data-raw” folder. Then, we’re adding our data to a code chunk. For simplicity it will be called “water_boil” which we will then peak at in order to look at what our data looks like in order to clean. We add the clean_names() function so tht we can see our data columns in a clean way.\n\nwater_boil &lt;- read_excel(\"data-raw/water_boil_2018_2022.xlsx\") |&gt; clean_names()\n\nwater_boil\n\n# A tibble: 12,867 × 8\n   rn_number   rn_name   start_date          end_date status county jurisdiction\n   &lt;chr&gt;       &lt;chr&gt;     &lt;dttm&gt;              &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;       \n 1 RN100209386 ORANGE C… 2021-06-08 00:00:00 44368    CLOSED ORANGE REGION 10 -…\n 2 RN100209386 ORANGE C… 2021-02-17 00:00:00 44253    CLOSED ORANGE REGION 10 -…\n 3 RN100209386 ORANGE C… 2020-09-02 00:00:00 44085    CLOSED ORANGE REGION 10 -…\n 4 RN100210038 INEOS GR… 2021-02-15 00:00:00 44256    CLOSED CALHO… REGION 14 -…\n 5 RN100210319 EQUISTAR… 2022-12-22 00:00:00 44932    CLOSED HARRIS REGION 12 -…\n 6 RN100210319 EQUISTAR… 2022-08-06 00:00:00 44788    CLOSED HARRIS &lt;NA&gt;        \n 7 RN100210319 EQUISTAR… 2022-07-12 00:00:00 44761    CLOSED HARRIS &lt;NA&gt;        \n 8 RN100210319 EQUISTAR… 2021-08-12 00:00:00 44427    CLOSED HARRIS &lt;NA&gt;        \n 9 RN100210319 EQUISTAR… 2021-02-17 00:00:00 44253    CLOSED HARRIS REGION 12 -…\n10 RN100210319 EQUISTAR… 2019-11-21 00:00:00 43794    CLOSED HARRIS &lt;NA&gt;        \n# ℹ 12,857 more rows\n# ℹ 1 more variable: nature &lt;chr&gt;\n\n\nNow we will glimpse the data:\n\nwater_boil |&gt; glimpse()\n\nRows: 12,867\nColumns: 8\n$ rn_number    &lt;chr&gt; \"RN100209386\", \"RN100209386\", \"RN100209386\", \"RN100210038…\n$ rn_name      &lt;chr&gt; \"ORANGE CARBON BLACK PLANT\", \"ORANGE CARBON BLACK PLANT\",…\n$ start_date   &lt;dttm&gt; 2021-06-08, 2021-02-17, 2020-09-02, 2021-02-15, 2022-12-…\n$ end_date     &lt;chr&gt; \"44368\", \"44253\", \"44085\", \"44256\", \"44932\", \"44788\", \"44…\n$ status       &lt;chr&gt; \"CLOSED\", \"CLOSED\", \"CLOSED\", \"CLOSED\", \"CLOSED\", \"CLOSED…\n$ county       &lt;chr&gt; \"ORANGE\", \"ORANGE\", \"ORANGE\", \"CALHOUN\", \"HARRIS\", \"HARRI…\n$ jurisdiction &lt;chr&gt; \"REGION 10 - BEAUMONT+1\", \"REGION 10 - BEAUMONT\", \"REGION…\n$ nature       &lt;chr&gt; \"WATER OUTAGE\", \"LOW DISTRIBUTION PRESSURE\", \"NATURAL DIS…\n\n\nNotes for water boil notice cleaning: - According to TCEQ, an RN Name is a, A “Regulated Entity” is a person, organization, place, or thing that is of environmental interest to TCEQ where regulatory activities of interest to the Agency occur or have occurred in the past. Examples are a site, facility or license.” Each RN is given an 11 digit, which is recorded in the column “RN#” More information on RNs can be found here: https://www.tceq.texas.gov/downloads/remediation/iop/core-data-form-instructions-10400.pdf - We have to change both end and start data to a date column instead of chr or dttm - We have to clean names of columns and data - The formatting of the “Jurisdiction” column is a bit weird, why do some entities include this information and others exclude this information? What constitutes a jurisdiction?"
  },
  {
    "objectID": "01-cleaning.html#fixing-the-dates",
    "href": "01-cleaning.html#fixing-the-dates",
    "title": "Cleaning",
    "section": "Fixing the dates",
    "text": "Fixing the dates\nWe want to make sure that our dates are in month, date, year format for consistency in our analysis. We also want to make sure that our notebook recognizes that information as dates.\nOur end date was having issues parsing, so we made sure that the date did not exist or was “NA,” after we filtered it out we can see that maybe these dates are on going and that’s why they were formatted differently from “start_date.”\n\nwater_boil_dates &lt;- water_boil |&gt;\n  mutate(\n    end_date_notice = excel_numeric_to_date(end_date |&gt; parse_number()), .after = end_date\n  )\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `end_date_notice =\n  excel_numeric_to_date(parse_number(end_date))`.\nCaused by warning:\n! 444 parsing failures.\nrow col expected actual\n 78  -- a number      -\n120  -- a number      -\n252  -- a number      -\n276  -- a number      -\n301  -- a number      -\n... ... ........ ......\nSee problems(...) for more details.\n\nwater_boil_dates\n\n# A tibble: 12,867 × 9\n   rn_number  rn_name start_date          end_date end_date_notice status county\n   &lt;chr&gt;      &lt;chr&gt;   &lt;dttm&gt;              &lt;chr&gt;    &lt;date&gt;          &lt;chr&gt;  &lt;chr&gt; \n 1 RN1002093… ORANGE… 2021-06-08 00:00:00 44368    2021-06-21      CLOSED ORANGE\n 2 RN1002093… ORANGE… 2021-02-17 00:00:00 44253    2021-02-26      CLOSED ORANGE\n 3 RN1002093… ORANGE… 2020-09-02 00:00:00 44085    2020-09-11      CLOSED ORANGE\n 4 RN1002100… INEOS … 2021-02-15 00:00:00 44256    2021-03-01      CLOSED CALHO…\n 5 RN1002103… EQUIST… 2022-12-22 00:00:00 44932    2023-01-06      CLOSED HARRIS\n 6 RN1002103… EQUIST… 2022-08-06 00:00:00 44788    2022-08-15      CLOSED HARRIS\n 7 RN1002103… EQUIST… 2022-07-12 00:00:00 44761    2022-07-19      CLOSED HARRIS\n 8 RN1002103… EQUIST… 2021-08-12 00:00:00 44427    2021-08-19      CLOSED HARRIS\n 9 RN1002103… EQUIST… 2021-02-17 00:00:00 44253    2021-02-26      CLOSED HARRIS\n10 RN1002103… EQUIST… 2019-11-21 00:00:00 43794    2019-11-25      CLOSED HARRIS\n# ℹ 12,857 more rows\n# ℹ 2 more variables: jurisdiction &lt;chr&gt;, nature &lt;chr&gt;\n\n##water_boil_dates |&gt; filter(is.na(end_date_notice))"
  },
  {
    "objectID": "01-cleaning.html#importing-updated-data",
    "href": "01-cleaning.html#importing-updated-data",
    "title": "Cleaning",
    "section": "Importing Updated Data",
    "text": "Importing Updated Data\nI uploaded the new data that encompasses all water boil notices from January 2022 to December of 2023 into my data-raw folder. This data also encompasses a few boil notices from 2024.\n\nwater_boil_new &lt;- read_excel(\"data-raw/BWN_water_boil_new .xlsx\") |&gt; clean_names() \n\nwater_boil_new \n\n# A tibble: 6,655 × 16\n   issued              rescinded           pws_id   pws_name population pws_type\n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;   \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00 TX14601… DAYTON …        203 C       \n 2 2023-12-31 00:00:00 2024-01-04 00:00:00 TX18300… DEADWOO…       1176 C       \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00 TX01400… CITY OF…     151261 C       \n 4 2023-12-30 00:00:00 2024-01-03 00:00:00 TX09600… RRA EST…        360 C       \n 5 2023-12-30 00:00:00 2024-01-01 00:00:00 TX10121… HARRIS …       8013 C       \n 6 2023-12-30 00:00:00 2024-01-03 00:00:00 TX10200… GUM SPR…       7815 C       \n 7 2023-12-29 00:00:00 2024-01-06 00:00:00 TX00400… COPANO …       1668 C       \n 8 2023-12-29 00:00:00 2024-01-03 00:00:00 TX16000… CITY OF…       2813 C       \n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 TX17400… APPLEBY…       5391 C       \n10 2023-12-29 00:00:00 2024-01-04 00:00:00 TX17400… D & M W…       6570 C       \n# ℹ 6,645 more rows\n# ℹ 10 more variables: reason_activity &lt;chr&gt;, reason &lt;chr&gt;,\n#   affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;, responsible_party &lt;chr&gt;,\n#   comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;, reissued_count &lt;dbl&gt;,\n#   do_not_consume_use &lt;lgl&gt;\n\n\nNow we will glimpse the data:\n\nwater_boil_new |&gt; glimpse()\n\nRows: 6,655\nColumns: 16\n$ issued                 &lt;dttm&gt; 2023-12-31, 2023-12-31, 2023-12-30, 2023-12-30…\n$ rescinded              &lt;dttm&gt; 2024-01-01, 2024-01-04, 2024-01-02, 2024-01-03…\n$ pws_id                 &lt;chr&gt; \"TX1460136\", \"TX1830025\", \"TX0140006\", \"TX09600…\n$ pws_name               &lt;chr&gt; \"DAYTON OAKS ESTATE\", \"DEADWOOD WSC\", \"CITY OF …\n$ population             &lt;dbl&gt; 203, 1176, 151261, 360, 8013, 7815, 1668, 2813,…\n$ pws_type               &lt;chr&gt; \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C…\n$ reason_activity        &lt;chr&gt; \"BWN - LOW DISTRIBUTION PRESSURE\", \"BWN - LOW D…\n$ reason                 &lt;chr&gt; \"Due to MAINTENANCE AT THE PLANT\", \"Due to a br…\n$ affected_area_activity &lt;chr&gt; \"BWN AFFECTED AREA - SYSTEMWIDE\", \"BWN AFFECTED…\n$ affected_area          &lt;chr&gt; \"ALL\", \"Customers that live at 248 County Rod 4…\n$ responsible_party      &lt;chr&gt; \"JOAQUIN MONTES\", \"DEBBIE ALLUMS\", \"COREY ANDRE…\n$ comments               &lt;chr&gt; \"512-990-4400 X56109\", \"(903) 754-0100\\r\\n\\r\\n1…\n$ region                 &lt;chr&gt; \"12\", \"5\", \"9\", \"1\", \"12\", \"5\", \"14\", \"8\", \"10\"…\n$ county                 &lt;chr&gt; \"LIBERTY\", \"PANOLA\", \"BELL\", \"HALL\", \"HARRIS\", …\n$ reissued_count         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ do_not_consume_use     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…"
  },
  {
    "objectID": "01-cleaning.html#cleaning-names-of-new-data",
    "href": "01-cleaning.html#cleaning-names-of-new-data",
    "title": "Cleaning",
    "section": "Cleaning names of new data",
    "text": "Cleaning names of new data\nThe older data and the newer data have different column names. In this new data I want to change “issued” and “rescinded” to “start_date” and “end_date.” I will change those last two columns when I change the variable to a date.\n\nwater_boil_new_names &lt;- water_boil_new |&gt;\n  mutate(\n    nature = reason\n  )\n\nwater_boil_new_names |&gt; glimpse()\n\nRows: 6,655\nColumns: 17\n$ issued                 &lt;dttm&gt; 2023-12-31, 2023-12-31, 2023-12-30, 2023-12-30…\n$ rescinded              &lt;dttm&gt; 2024-01-01, 2024-01-04, 2024-01-02, 2024-01-03…\n$ pws_id                 &lt;chr&gt; \"TX1460136\", \"TX1830025\", \"TX0140006\", \"TX09600…\n$ pws_name               &lt;chr&gt; \"DAYTON OAKS ESTATE\", \"DEADWOOD WSC\", \"CITY OF …\n$ population             &lt;dbl&gt; 203, 1176, 151261, 360, 8013, 7815, 1668, 2813,…\n$ pws_type               &lt;chr&gt; \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C\", \"C…\n$ reason_activity        &lt;chr&gt; \"BWN - LOW DISTRIBUTION PRESSURE\", \"BWN - LOW D…\n$ reason                 &lt;chr&gt; \"Due to MAINTENANCE AT THE PLANT\", \"Due to a br…\n$ affected_area_activity &lt;chr&gt; \"BWN AFFECTED AREA - SYSTEMWIDE\", \"BWN AFFECTED…\n$ affected_area          &lt;chr&gt; \"ALL\", \"Customers that live at 248 County Rod 4…\n$ responsible_party      &lt;chr&gt; \"JOAQUIN MONTES\", \"DEBBIE ALLUMS\", \"COREY ANDRE…\n$ comments               &lt;chr&gt; \"512-990-4400 X56109\", \"(903) 754-0100\\r\\n\\r\\n1…\n$ region                 &lt;chr&gt; \"12\", \"5\", \"9\", \"1\", \"12\", \"5\", \"14\", \"8\", \"10\"…\n$ county                 &lt;chr&gt; \"LIBERTY\", \"PANOLA\", \"BELL\", \"HALL\", \"HARRIS\", …\n$ reissued_count         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ do_not_consume_use     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ nature                 &lt;chr&gt; \"Due to MAINTENANCE AT THE PLANT\", \"Due to a br…"
  },
  {
    "objectID": "01-cleaning.html#clean-dates",
    "href": "01-cleaning.html#clean-dates",
    "title": "Cleaning",
    "section": "Clean dates",
    "text": "Clean dates\nIt looks like our “start_date” column is facing the same excel date issue. We also have to change the end_date column so that is appears as a date variable.\n\nwater_boil_dates_new &lt;- water_boil_new_names |&gt;\n  mutate(\n       start_date = mdy(issued), \n       end_date = mdy(rescinded)\n  )\n\nWarning: There were 2 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `start_date = mdy(issued)`.\nCaused by warning:\n! All formats failed to parse. No formats found.\nℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.\n\nwater_boil_dates_new\n\n# A tibble: 6,655 × 19\n   issued              rescinded           pws_id   pws_name population pws_type\n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;   \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00 TX14601… DAYTON …        203 C       \n 2 2023-12-31 00:00:00 2024-01-04 00:00:00 TX18300… DEADWOO…       1176 C       \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00 TX01400… CITY OF…     151261 C       \n 4 2023-12-30 00:00:00 2024-01-03 00:00:00 TX09600… RRA EST…        360 C       \n 5 2023-12-30 00:00:00 2024-01-01 00:00:00 TX10121… HARRIS …       8013 C       \n 6 2023-12-30 00:00:00 2024-01-03 00:00:00 TX10200… GUM SPR…       7815 C       \n 7 2023-12-29 00:00:00 2024-01-06 00:00:00 TX00400… COPANO …       1668 C       \n 8 2023-12-29 00:00:00 2024-01-03 00:00:00 TX16000… CITY OF…       2813 C       \n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 TX17400… APPLEBY…       5391 C       \n10 2023-12-29 00:00:00 2024-01-04 00:00:00 TX17400… D & M W…       6570 C       \n# ℹ 6,645 more rows\n# ℹ 13 more variables: reason_activity &lt;chr&gt;, reason &lt;chr&gt;,\n#   affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;, responsible_party &lt;chr&gt;,\n#   comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;, reissued_count &lt;dbl&gt;,\n#   do_not_consume_use &lt;lgl&gt;, nature &lt;chr&gt;, start_date &lt;date&gt;, end_date &lt;date&gt;"
  },
  {
    "objectID": "01-cleaning.html#counting-length-of-water-boil-notices",
    "href": "01-cleaning.html#counting-length-of-water-boil-notices",
    "title": "Cleaning",
    "section": "Counting length of water boil notices",
    "text": "Counting length of water boil notices\nFor my analysis I would like to look at the length of water boil notices and the counties where they are happening. In order to do this later I want to create a new column for the length of the water boil notices.\n\nwater_boil_length &lt;- water_boil_dates_new |&gt; \n  mutate(\n    notice_length= rescinded - issued, .after = rescinded\n  )\n\nwater_boil_length\n\n# A tibble: 6,655 × 20\n   issued              rescinded           notice_length pws_id    pws_name     \n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;        &lt;chr&gt;     &lt;chr&gt;        \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00  1 days       TX1460136 DAYTON OAKS …\n 2 2023-12-31 00:00:00 2024-01-04 00:00:00  4 days       TX1830025 DEADWOOD WSC \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00  3 days       TX0140006 CITY OF KILL…\n 4 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX0960001 RRA ESTELLIN…\n 5 2023-12-30 00:00:00 2024-01-01 00:00:00  2 days       TX1012133 HARRIS COUNT…\n 6 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX1020081 GUM SPRINGS …\n 7 2023-12-29 00:00:00 2024-01-06 00:00:00  8 days       TX0040003 COPANO COVE …\n 8 2023-12-29 00:00:00 2024-01-03 00:00:00  5 days       TX1600001 CITY OF MASON\n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 12 days       TX1740005 APPLEBY WSC  \n10 2023-12-29 00:00:00 2024-01-04 00:00:00  6 days       TX1740010 D & M WSC    \n# ℹ 6,645 more rows\n# ℹ 15 more variables: population &lt;dbl&gt;, pws_type &lt;chr&gt;, reason_activity &lt;chr&gt;,\n#   reason &lt;chr&gt;, affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;,\n#   responsible_party &lt;chr&gt;, comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;,\n#   reissued_count &lt;dbl&gt;, do_not_consume_use &lt;lgl&gt;, nature &lt;chr&gt;,\n#   start_date &lt;date&gt;, end_date &lt;date&gt;"
  },
  {
    "objectID": "01-cleaning.html#remove-unnecessary-column",
    "href": "01-cleaning.html#remove-unnecessary-column",
    "title": "Cleaning",
    "section": "Remove unnecessary column",
    "text": "Remove unnecessary column\nI checked in the original dataset if there was any row of data in the “do_not_consume_use” column and they were all N/A. We will remove this unnecessary column with the filter option. I also want to remove the “end_date” and “start_date” column that are still in character format because I already created the new date column.\n\nwater_boil_filter &lt;- water_boil_length |&gt; \n  select(-c(end_date, start_date, do_not_consume_use)) \n\nwater_boil_filter\n\n# A tibble: 6,655 × 17\n   issued              rescinded           notice_length pws_id    pws_name     \n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;        &lt;chr&gt;     &lt;chr&gt;        \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00  1 days       TX1460136 DAYTON OAKS …\n 2 2023-12-31 00:00:00 2024-01-04 00:00:00  4 days       TX1830025 DEADWOOD WSC \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00  3 days       TX0140006 CITY OF KILL…\n 4 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX0960001 RRA ESTELLIN…\n 5 2023-12-30 00:00:00 2024-01-01 00:00:00  2 days       TX1012133 HARRIS COUNT…\n 6 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX1020081 GUM SPRINGS …\n 7 2023-12-29 00:00:00 2024-01-06 00:00:00  8 days       TX0040003 COPANO COVE …\n 8 2023-12-29 00:00:00 2024-01-03 00:00:00  5 days       TX1600001 CITY OF MASON\n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 12 days       TX1740005 APPLEBY WSC  \n10 2023-12-29 00:00:00 2024-01-04 00:00:00  6 days       TX1740010 D & M WSC    \n# ℹ 6,645 more rows\n# ℹ 12 more variables: population &lt;dbl&gt;, pws_type &lt;chr&gt;, reason_activity &lt;chr&gt;,\n#   reason &lt;chr&gt;, affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;,\n#   responsible_party &lt;chr&gt;, comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;,\n#   reissued_count &lt;dbl&gt;, nature &lt;chr&gt;"
  },
  {
    "objectID": "01-cleaning.html#exporting-clean-data",
    "href": "01-cleaning.html#exporting-clean-data",
    "title": "Cleaning",
    "section": "Exporting clean data",
    "text": "Exporting clean data\nNow that my data looks clean I will export to a new Quarto website page to start my analysis.\n\n water_boil_clean &lt;- water_boil_filter|&gt;\n   write_rds(\"data-processed/01-water_boil.rds\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "02-analysis.html",
    "href": "02-analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "The goal of this analysis is to find data outliers, interesting localized pieces of data or anything that jumps out as interesting. Specifically, since I’m focusing on water boil notices, I want to identify anything that can lead to a potential story.\nQuestions for analysis:\n\nWhat counties and/or regions have the most amount of water boil notices?\nWhat counties and/or regions have the longest lasting water boil notices?\nWhat do ongoing water boil notices look like?\nWhat are the most common reasons for water boil notices? Are these statewide or localized problems?\nHow many people in Texas are affected by water boil notices each year?\n\n##Loading up tidyverse\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(readxl)\nlibrary(tigris)\nlibrary(sf)\nlibrary(mapview)"
  },
  {
    "objectID": "02-analysis.html#goals",
    "href": "02-analysis.html#goals",
    "title": "Analysis",
    "section": "",
    "text": "The goal of this analysis is to find data outliers, interesting localized pieces of data or anything that jumps out as interesting. Specifically, since I’m focusing on water boil notices, I want to identify anything that can lead to a potential story.\nQuestions for analysis:\n\nWhat counties and/or regions have the most amount of water boil notices?\nWhat counties and/or regions have the longest lasting water boil notices?\nWhat do ongoing water boil notices look like?\nWhat are the most common reasons for water boil notices? Are these statewide or localized problems?\nHow many people in Texas are affected by water boil notices each year?\n\n##Loading up tidyverse\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(readxl)\nlibrary(tigris)\nlibrary(sf)\nlibrary(mapview)"
  },
  {
    "objectID": "02-analysis.html#importing-clean-data",
    "href": "02-analysis.html#importing-clean-data",
    "title": "Analysis",
    "section": "Importing Clean Data",
    "text": "Importing Clean Data\n\nwater_boil &lt;- read_rds(\"data-processed/01-water_boil.rds\")\n\nwater_boil \n\n# A tibble: 6,655 × 17\n   issued              rescinded           notice_length pws_id    pws_name     \n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;        &lt;chr&gt;     &lt;chr&gt;        \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00  1 days       TX1460136 DAYTON OAKS …\n 2 2023-12-31 00:00:00 2024-01-04 00:00:00  4 days       TX1830025 DEADWOOD WSC \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00  3 days       TX0140006 CITY OF KILL…\n 4 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX0960001 RRA ESTELLIN…\n 5 2023-12-30 00:00:00 2024-01-01 00:00:00  2 days       TX1012133 HARRIS COUNT…\n 6 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX1020081 GUM SPRINGS …\n 7 2023-12-29 00:00:00 2024-01-06 00:00:00  8 days       TX0040003 COPANO COVE …\n 8 2023-12-29 00:00:00 2024-01-03 00:00:00  5 days       TX1600001 CITY OF MASON\n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 12 days       TX1740005 APPLEBY WSC  \n10 2023-12-29 00:00:00 2024-01-04 00:00:00  6 days       TX1740010 D & M WSC    \n# ℹ 6,645 more rows\n# ℹ 12 more variables: population &lt;dbl&gt;, pws_type &lt;chr&gt;, reason_activity &lt;chr&gt;,\n#   reason &lt;chr&gt;, affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;,\n#   responsible_party &lt;chr&gt;, comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;,\n#   reissued_count &lt;dbl&gt;, nature &lt;chr&gt;\n\n\n##Creating a graph\nBecause most of my data is by county, I want to look at where water boil notices are located and what they look like. In order to visualize this, I will use shake files for all Texas counties.\n\ncounties &lt;- counties(cb = TRUE, class = \"sf\")\n\nRetrieving data for the year 2022\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |==                                                                    |   4%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |=======================                                               |  34%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |==========================================                            |  61%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |============================================                          |  64%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |==========================================================            |  84%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |===============================================================       |  91%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |=================================================================     |  94%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%"
  },
  {
    "objectID": "02-analysis.html#what-counties-andor-regions-have-the-most-amount-of-water-boil-notices",
    "href": "02-analysis.html#what-counties-andor-regions-have-the-most-amount-of-water-boil-notices",
    "title": "Analysis",
    "section": "What counties and/or regions have the most amount of water boil notices?",
    "text": "What counties and/or regions have the most amount of water boil notices?\nLet’s look at the amount of water boil notices per each county in Texas. I experimented with shakefiles, importing visuals from Tableau and used the mapview() package.\nCounties:\n\nwater_boil_county &lt;- water_boil |&gt;\n  group_by(county) |&gt;\n  summarize(appearances = n()) |&gt; \n  #arrange(desc(appearances)) |&gt; \n  mutate( state = \"TEXAS\") \n\n\nwater_boil_county\n\n# A tibble: 223 × 3\n   county   appearances state\n   &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;\n 1 ANDERSON          76 TEXAS\n 2 ANDREWS            4 TEXAS\n 3 ANGELINA          37 TEXAS\n 4 ARANSAS            8 TEXAS\n 5 ARCHER             1 TEXAS\n 6 ATASCOSA           3 TEXAS\n 7 AUSTIN            14 TEXAS\n 8 BANDERA           46 TEXAS\n 9 BASTROP           19 TEXAS\n10 BAYLOR             1 TEXAS\n# ℹ 213 more rows\n\n\nDownload into CSV file:\n\nwrite_csv(water_boil_county, \"/Users/MariaProbert/rwd/water_boil_county.csv\")\n\n\ngraph_counties &lt;- water_boil |&gt;\ngroup_by(county) |&gt;\n  summarize(total_notices = n()) |&gt;\n  mutate(county = str_to_title(county))\n\ngraph_counties\n\n# A tibble: 223 × 2\n   county   total_notices\n   &lt;chr&gt;            &lt;int&gt;\n 1 Anderson            76\n 2 Andrews              4\n 3 Angelina            37\n 4 Aransas              8\n 5 Archer               1\n 6 Atascosa             3\n 7 Austin              14\n 8 Bandera             46\n 9 Bastrop             19\n10 Baylor               1\n# ℹ 213 more rows\n\n\n\nwater_boil_graph &lt;- counties |&gt;\n  left_join(graph_counties, by= c(\"NAME\"= \"county\")) |&gt;\n  filter(STATE_NAME == \"Texas\")\n\n\nggplot(water_boil_graph) + \n  geom_sf(\n    aes(fill = total_notices), color = \"white\", size = 0.2\n  ) + \n  scale_fill_gradient(low = \"#335EF0\",high = \"#FF0000\")+ \n  theme_void() + \n  labs(\n    title = \"Where are water boil notices located in Texas?\", \n    subtitle = str_wrap(\"This chart looks at the concentration of water boil notices per county. Harris county has the most amount of water boil notices in the state.\"), \n    caption = \"Source = Texas Commission on Environmental Quality\", \n    fill = \"Total Notices\"\n    ) \n\n\n\n\n\n\n\n\n\nsave as image and call into summary ggsave –&gt; object first then ggsave"
  },
  {
    "objectID": "02-analysis.html#map-here",
    "href": "02-analysis.html#map-here",
    "title": "Analysis",
    "section": "Map Here",
    "text": "Map Here\n\nmapview(water_boil_graph, zcol = \"total_notices\", col.regions= c(\"orange\",\"#e67e22\",\"#e74c3c\", \"#FF0000\", \"#7b241c\", \"#641e16\"))\n\nWarning: Found less unique colors (6) than unique zcol values (70)! \nInterpolating color vector to match number of zcol values.\n\n\n\n\n\n\nRegions:\n\nwater_boil |&gt;\n  group_by(region) |&gt;\n  summarize(appearances = n()) |&gt; \n  arrange(desc(appearances))\n\n# A tibble: 16 × 2\n   region appearances\n   &lt;chr&gt;        &lt;int&gt;\n 1 12            1716\n 2 10            1065\n 3 5              920\n 4 9              708\n 5 4              678\n 6 11             443\n 7 3              373\n 8 13             225\n 9 14             108\n10 1               97\n11 16              80\n12 2               74\n13 6               45\n14 7               43\n15 8               43\n16 15              37\n\n\nBased on quick Google searches, the county with the most amount of water boil notices is Harris county (Houston area), Montgomery (area above Houston), Bell (which makes up Temple, Killeen, et.), and in fourth place is Brazoria county (South of Houston). This leads me to think that region 12 according to TCEQ probably encapsulates East Texas.\nData Takeaways: East Texas or the area near Houston is the area in Texas with the most amount of water boil notices. According to Texas Tribune, could be due to aging infrastructure (humidity?), flood issues and/or a large population.\nMore information here: https://www.texastribune.org/2022/12/07/boil-water-notices-rural-texas/"
  },
  {
    "objectID": "02-analysis.html#what-counties-andor-regions-have-the-longest-lasting-water-boil-notices",
    "href": "02-analysis.html#what-counties-andor-regions-have-the-longest-lasting-water-boil-notices",
    "title": "Analysis",
    "section": "What counties and/or regions have the longest lasting water boil notices?",
    "text": "What counties and/or regions have the longest lasting water boil notices?\nI want to look at the counties with the longest lasting notice lengths, so let’s look at the average to determine the county with the longest lasting notices. Then, I also want to record the minimum and maximum amount of days that water boil notices last in each county.\nCounties (last 2 *** ERROS?!):\n\nwater_length &lt;- water_boil |&gt;\n  group_by(county) |&gt;\n  summarize(\n    average_notice_length = mean(notice_length, na.rm = TRUE),\n    min_notice_length = min(notice_length, na.rm = TRUE), \n    max_notice_length = max(notice_length, na.rm = TRUE)\n    ) |&gt;\n  arrange(desc(average_notice_length)) |&gt;\n  mutate( state = \"TEXAS\") \n\nWarning: There were 4 warnings in `summarize()`.\nThe first warning was:\nℹ In argument: `min_notice_length = min(notice_length, na.rm = TRUE)`.\nℹ In group 194: `county = \"TERRY\"`.\nCaused by warning in `min()`:\n! no non-missing arguments to min; returning Inf\nℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.\n\nwater_length\n\n# A tibble: 223 × 5\n   county        average_notice_length min_notice_length max_notice_length state\n   &lt;chr&gt;         &lt;drtn&gt;                &lt;drtn&gt;            &lt;drtn&gt;            &lt;chr&gt;\n 1 LIVE OAK      219.00000 days         3 days           366 days          TEXAS\n 2 DUVAL         170.00000 days         5 days           335 days          TEXAS\n 3 TITUS         125.00000 days         2 days           370 days          TEXAS\n 4 WOOD          114.57143 days         1 days           759 days          TEXAS\n 5 KENT           60.60000 days         3 days           271 days          TEXAS\n 6 GREGG          49.68182 days         1 days           493 days          TEXAS\n 7 COLLINGSWORTH  48.20000 days         2 days           223 days          TEXAS\n 8 DICKENS        48.00000 days         1 days           182 days          TEXAS\n 9 BRAZOS         40.77778 days         1 days           234 days          TEXAS\n10 PRESIDIO       38.00000 days        38 days            38 days          TEXAS\n# ℹ 213 more rows\n\n\nDownload into CSV file:\n\nwrite_csv(water_length, \"/Users/MariaProbert/rwd/water_length.csv\")\n\nNone of the top three counties with longest lasting water boil notices show up in the top of the list of most water boil notices. But this makes sense. East Austin has a higher population, therefore a higher demand for water and therefore a higher demand for water boil notices to get resolved.\nLet’s look at Live Oak more closely:\n\nwater_boil |&gt;\nfilter(\n  county == \"LIVE OAK\"\n) |&gt;\n  select(county, population, issued, rescinded, notice_length, reason_activity, reason, affected_area_activity, affected_area, pws_name)\n\n# A tibble: 3 × 10\n  county   population issued              rescinded           notice_length\n  &lt;chr&gt;         &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;       \n1 LIVE OAK         80 2023-08-23 00:00:00 2024-06-06 00:00:00 288 days     \n2 LIVE OAK       4428 2022-01-25 00:00:00 2022-01-28 00:00:00   3 days     \n3 LIVE OAK        117 2022-01-03 00:00:00 2023-01-04 00:00:00 366 days     \n# ℹ 5 more variables: reason_activity &lt;chr&gt;, reason &lt;chr&gt;,\n#   affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;, pws_name &lt;chr&gt;\n\n\nLive Oak county is located South of San Antonio and has a very small population, but the water boil notices affect all residents in the area where the public water system is located. Most recent one happened in June and lasted almost a year.\nNow, I want to look at the top three counties with the most water boil notices and check how long their water boil notices last.\nLet’s look at Harris as an example:\n\nwater_boil |&gt;\n  group_by(county) |&gt;\n  summarize(\n    average_notice_length = mean(notice_length, na.rm = TRUE),\n    min_notice_length = min(notice_length, na.rm = TRUE), \n    max_notice_length = max(notice_length, na.rm = TRUE)\n    ) |&gt;\n  arrange(desc(average_notice_length)) |&gt;\n  filter(\n    county == \"HARRIS\"\n  )\n\nWarning: There were 4 warnings in `summarize()`.\nThe first warning was:\nℹ In argument: `min_notice_length = min(notice_length, na.rm = TRUE)`.\nℹ In group 194: `county = \"TERRY\"`.\nCaused by warning in `min()`:\n! no non-missing arguments to min; returning Inf\nℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.\n\n\n# A tibble: 1 × 4\n  county average_notice_length min_notice_length max_notice_length\n  &lt;chr&gt;  &lt;drtn&gt;                &lt;drtn&gt;            &lt;drtn&gt;           \n1 HARRIS 8.65742 days          1 days            472 days         \n\n\nWhen I check for Harris we get NA, which could just mean that there are still pending water boil notices so the data can’t calculate the average, minimum and maximum length of water boil notices in the area.\nTo check the length of the water boil notices that have been rescinded, I added “na.rm = TRUE.”\nData Takeaways:\n\nCounties with the longest lasting water boil notices tend to have smaller populations. The top two counties with the longest lasting notices are located South of San Antonio.\nHarris county has at least one pending water boil notice at the time this data was collected.\n\nRegions:\nNow let’s check regions with the longest lasting water boil notices:\n\nwater_boil |&gt;\n  group_by(region) |&gt;\n  summarize(\n    average_notice_length = mean(notice_length, na.rm = TRUE),\n    min_notice_length = min(notice_length, na.rm = TRUE), \n    max_notice_length = max(notice_length, na.rm = TRUE)\n    ) |&gt;\n  arrange(desc(average_notice_length)) \n\n# A tibble: 16 × 4\n   region average_notice_length min_notice_length max_notice_length\n   &lt;chr&gt;  &lt;drtn&gt;                &lt;drtn&gt;            &lt;drtn&gt;           \n 1 16     29.164557 days        2 days            335 days         \n 2 15     19.054054 days        1 days            339 days         \n 3 14     16.915094 days        1 days            366 days         \n 4 6      15.136364 days        2 days            136 days         \n 5 10     14.660664 days        1 days            792 days         \n 6 5      13.520352 days        1 days            759 days         \n 7 8      12.813953 days        1 days            368 days         \n 8 2      12.027778 days        1 days            182 days         \n 9 11     11.661400 days        1 days            614 days         \n10 4      11.342900 days        1 days            477 days         \n11 12      9.452311 days        1 days            472 days         \n12 9       9.037196 days        1 days            621 days         \n13 7       8.731707 days        1 days             40 days         \n14 1       8.453608 days        1 days            223 days         \n15 3       8.204301 days        1 days            487 days         \n16 13      6.747706 days        1 days            173 days         \n\n\nIf I don’t remove the NA examples, 12 out of the 16 regions designated by TCEQ in Texas have at least one ongoing water boil notice at the time this data was collected.\nData Takeaways:\n\nRegion 16 could be the area around Live Oak and Duval counties. The highest average of water boil notice length is 29 days.\n12 out of the 16 regions designated by TCEQ in Texas have at least one ongoing water boil notice at the time this data was collected.\n\nTCEQ hasn’t answered my question about what the regions are yet…"
  },
  {
    "objectID": "02-analysis.html#what-do-ongoing-water-boil-notices-look-like",
    "href": "02-analysis.html#what-do-ongoing-water-boil-notices-look-like",
    "title": "Analysis",
    "section": "What do ongoing water boil notices look like?",
    "text": "What do ongoing water boil notices look like?\nThe original results for the duration of the water boil notices gave us a lot of NA results, which point to water boil notices that are ongoing at the time the data was collected.\nLet’s look at the amount of ongoing water boil notices in each county in the time span of Jan. 2022 to the start of 2024.\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  group_by(county) |&gt;\n summarize(appearances = n()) |&gt; \n arrange(desc(appearances))\n\n# A tibble: 42 × 2\n   county    appearances\n   &lt;chr&gt;           &lt;int&gt;\n 1 HARRIS              4\n 2 JOHNSON             4\n 3 WISE                4\n 4 CHEROKEE            3\n 5 HENDERSON           3\n 6 POLK                3\n 7 BRAZOS              2\n 8 BURLESON            2\n 9 COMAL               2\n10 DENTON              2\n# ℹ 32 more rows\n\n\nLet’s look at the water boil notices in Harris:\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  group_by(county) |&gt;\n  filter(county == \"HARRIS\")\n\n# A tibble: 4 × 17\n# Groups:   county [1]\n  issued              rescinded notice_length pws_id    pws_name            \n  &lt;dttm&gt;              &lt;dttm&gt;    &lt;drtn&gt;        &lt;chr&gt;     &lt;chr&gt;               \n1 2023-11-15 00:00:00 NA        NA days       TX1011690 HARRIS COUNTY MUD 70\n2 2023-11-08 00:00:00 NA        NA days       TX1013025 STRACK ROAD STORAGE \n3 2023-10-04 00:00:00 NA        NA days       TX1010212 BAYER WATER SYSTEM  \n4 2023-04-20 00:00:00 NA        NA days       TX1013156 HARRIS COUNTY UD 16 \n# ℹ 12 more variables: population &lt;dbl&gt;, pws_type &lt;chr&gt;, reason_activity &lt;chr&gt;,\n#   reason &lt;chr&gt;, affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;,\n#   responsible_party &lt;chr&gt;, comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;,\n#   reissued_count &lt;dbl&gt;, nature &lt;chr&gt;\n\n\nLet’s add up the population affected by ongoing water notices in Harris county:\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  group_by(county) |&gt;\n  filter(county == \"HARRIS\") |&gt;\n  summarise(harris_population_notice = sum(population))\n\n# A tibble: 1 × 2\n  county harris_population_notice\n  &lt;chr&gt;                     &lt;dbl&gt;\n1 HARRIS                    13594\n\n\nData Takeaways: In Harris county at the time that this data was collected at least 13,594 people were affected by water boil notices.\nLet’s look at the total population affected by water boil notices in each county:\n\npopulation_ongoing_notice &lt;- water_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  group_by(county) |&gt;\n  summarise(county_population_notice = sum(population)) |&gt;\n  arrange(desc(county_population_notice))\n\npopulation_ongoing_notice\n\n# A tibble: 42 × 2\n   county   county_population_notice\n   &lt;chr&gt;                       &lt;dbl&gt;\n 1 HARRIS                      13594\n 2 SMITH                        9113\n 3 MCLENNAN                     4773\n 4 BURLESON                     3263\n 5 ANGELINA                     2211\n 6 CASS                         1888\n 7 CHEROKEE                     1827\n 8 RUSK                         1734\n 9 WISE                         1610\n10 DENTON                       1584\n# ℹ 32 more rows\n\n\nLet’s try this by region and look at populations under water boil notices by region:\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  group_by(region) |&gt;\n summarize(appearances = n()) |&gt; \n arrange(desc(appearances))\n\n# A tibble: 12 × 2\n   region appearances\n   &lt;chr&gt;        &lt;int&gt;\n 1 4               16\n 2 5               11\n 3 10              10\n 4 9                9\n 5 12               7\n 6 13               7\n 7 14               2\n 8 2                2\n 9 7                2\n10 16               1\n11 3                1\n12 6                1\n\n\nData Takeaways: (Once I know what regions this is…) Harris should be 12.\nNow let’s look at the total ongoing water boil notices in Texas at the time this data was collected.\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  summarize(appearances = n()) \n\n# A tibble: 1 × 1\n  appearances\n        &lt;int&gt;\n1          69\n\n\nData Takeaways: In the state of Texas, there were at least 69 total ongoing water boil notices (in all counties and regions) at the time that this data was collected.\nNow let’s look at the total population in Texas under ongoing water boil notices:\n\nwater_boil |&gt;\n  filter(if_any(c(rescinded, notice_length), is.na)) |&gt; \n  summarise(texas_population_notice = sum(population)) \n\n# A tibble: 1 × 1\n  texas_population_notice\n                    &lt;dbl&gt;\n1                   56074"
  },
  {
    "objectID": "02-analysis.html#what-are-the-most-common-reasons-for-water-boil-notices-are-these-statewide-or-localized-problems",
    "href": "02-analysis.html#what-are-the-most-common-reasons-for-water-boil-notices-are-these-statewide-or-localized-problems",
    "title": "Analysis",
    "section": "What are the most common reasons for water boil notices? Are these statewide or localized problems?",
    "text": "What are the most common reasons for water boil notices? Are these statewide or localized problems?\nLet’s look at the main reasons why water notices happen in the state of Texas.\n\nwater_boil |&gt;\n  group_by(reason_activity) |&gt;\n  summarize(appearances = n()) |&gt; \n  arrange(desc(appearances))\n\n# A tibble: 6 × 2\n  reason_activity                              appearances\n  &lt;chr&gt;                                              &lt;int&gt;\n1 BWN - LOW DISTRIBUTION PRESSURE                     4391\n2 BWN - WATER OUTAGE                                  1909\n3 BWN - LOW DISINFECTANT RESIDUAL DISTRIBUTION         189\n4 BWN - OTHER                                           72\n5 BWN - MICROBIOLOGICAL ECOLI                           57\n6 BWN - TURBIDITY                                       37\n\n\nNow let’s check to see if more of these issues are systemwide or more localized problems.\n\nwater_boil |&gt;\n  group_by(affected_area_activity) |&gt;\n  summarize(appearances = n()) |&gt; \n  arrange(desc(appearances))\n\n# A tibble: 2 × 2\n  affected_area_activity         appearances\n  &lt;chr&gt;                                &lt;int&gt;\n1 BWN AFFECTED AREA - SYSTEMWIDE        3636\n2 BWN AFFECTED AREA - LOCALIZED         3019\n\n\nBWN stands for boil water notice.\nData Takeaways: Water boil notices are more related to systemwide issues, rather than localized. But, not by that much of a difference.\n** need TCEQ response to contextualize more of this info***"
  },
  {
    "objectID": "02-analysis.html#how-many-people-in-texas-are-affected-by-water-boil-notices-each-year",
    "href": "02-analysis.html#how-many-people-in-texas-are-affected-by-water-boil-notices-each-year",
    "title": "Analysis",
    "section": "How many people in Texas are affected by water boil notices each year?",
    "text": "How many people in Texas are affected by water boil notices each year?\nWithout including the ongoing water boil notices that we already looked at, lets look at the total population under and separating by year.\n\nwater_boil |&gt;\n  summarize(population_notice = sum(population))\n\n# A tibble: 1 × 1\n  population_notice\n              &lt;dbl&gt;\n1          57049113"
  },
  {
    "objectID": "02-analysis.html#adding-texas",
    "href": "02-analysis.html#adding-texas",
    "title": "Analysis",
    "section": "Adding Texas",
    "text": "Adding Texas\n\nwater_boil |&gt; \n  mutate( state = \"TEXAS\") \n\n# A tibble: 6,655 × 18\n   issued              rescinded           notice_length pws_id    pws_name     \n   &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;        &lt;chr&gt;     &lt;chr&gt;        \n 1 2023-12-31 00:00:00 2024-01-01 00:00:00  1 days       TX1460136 DAYTON OAKS …\n 2 2023-12-31 00:00:00 2024-01-04 00:00:00  4 days       TX1830025 DEADWOOD WSC \n 3 2023-12-30 00:00:00 2024-01-02 00:00:00  3 days       TX0140006 CITY OF KILL…\n 4 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX0960001 RRA ESTELLIN…\n 5 2023-12-30 00:00:00 2024-01-01 00:00:00  2 days       TX1012133 HARRIS COUNT…\n 6 2023-12-30 00:00:00 2024-01-03 00:00:00  4 days       TX1020081 GUM SPRINGS …\n 7 2023-12-29 00:00:00 2024-01-06 00:00:00  8 days       TX0040003 COPANO COVE …\n 8 2023-12-29 00:00:00 2024-01-03 00:00:00  5 days       TX1600001 CITY OF MASON\n 9 2023-12-29 00:00:00 2024-01-10 00:00:00 12 days       TX1740005 APPLEBY WSC  \n10 2023-12-29 00:00:00 2024-01-04 00:00:00  6 days       TX1740010 D & M WSC    \n# ℹ 6,645 more rows\n# ℹ 13 more variables: population &lt;dbl&gt;, pws_type &lt;chr&gt;, reason_activity &lt;chr&gt;,\n#   reason &lt;chr&gt;, affected_area_activity &lt;chr&gt;, affected_area &lt;chr&gt;,\n#   responsible_party &lt;chr&gt;, comments &lt;chr&gt;, region &lt;chr&gt;, county &lt;chr&gt;,\n#   reissued_count &lt;dbl&gt;, nature &lt;chr&gt;, state &lt;chr&gt;"
  },
  {
    "objectID": "03-visualization.html",
    "href": "03-visualization.html",
    "title": "Visualization",
    "section": "",
    "text": "https://gis-txdot.opendata.arcgis.com/datasets/TXDOT::texas-county-boundaries-detailed/about\nKML file in a new file\nor GEOJson"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Water Boil Notices in Texas- Maria Probert",
    "section": "",
    "text": "Maria Probert is a UT Austin Journalism and Economics major. She is currently a Data Fellow at UT’s Journalism Media Innovation Group. This group is a part of the Dallas Morning News Innovation Endowment. Maria has done work for UT’s student media like the Daily Texan and has previously interned at the Texas Tribune and Texas Monthly.\nThis project aims to look at what water boil notices look like in Texas. What counties or cities are affected? Why were the water boil notices issues? What caused these water boil notices?\nThe angle of this project focuses more on the local level, in an attempt to highlight communities impacted by water boil notices. The data I used for this project is from the Texas Commission on Environmental Quality or TCEQ, and I obtained it from a public records request. Keaton Peters helped guide me when looking at this data.\n###Main Takeaways:\nMap of water boil notices: Link to a headline on index Map Here"
  },
  {
    "objectID": "02-analysis.html#water-boil-notices-interactive-map",
    "href": "02-analysis.html#water-boil-notices-interactive-map",
    "title": "Analysis",
    "section": "Water Boil Notices Interactive Map",
    "text": "Water Boil Notices Interactive Map\nI used the Mapview package to make the interactive version of this map. To look at the county name and more information just hover on the county and click for an information pop-up.\n\nmapview(water_boil_graph, zcol = \"total_notices\", col.regions= c(\"orange\",\"#e67e22\",\"#e74c3c\", \"#FF0000\", \"#7b241c\", \"#641e16\"))\n\nWarning: Found less unique colors (6) than unique zcol values (70)! \nInterpolating color vector to match number of zcol values.\n\n\n\n\n\n\nRegions:\n\nwater_boil |&gt;\n  group_by(region) |&gt;\n  summarize(appearances = n()) |&gt; \n  arrange(desc(appearances))\n\n# A tibble: 16 × 2\n   region appearances\n   &lt;chr&gt;        &lt;int&gt;\n 1 12            1716\n 2 10            1065\n 3 5              920\n 4 9              708\n 5 4              678\n 6 11             443\n 7 3              373\n 8 13             225\n 9 14             108\n10 1               97\n11 16              80\n12 2               74\n13 6               45\n14 7               43\n15 8               43\n16 15              37\n\n\nBased on quick Google searches, the county with the most amount of water boil notices is Harris county (Houston area), Montgomery (area above Houston), Bell (which makes up Temple, Killeen, et.), and in fourth place is Brazoria county (South of Houston). This leads me to think that region 12 according to TCEQ probably encapsulates East Texas.\nData Takeaways: East Texas or the area near Houston is the area in Texas with the most amount of water boil notices. According to Texas Tribune, could be due to aging infrastructure (humidity?), flood issues and/or a large population.\nMore information here: https://www.texastribune.org/2022/12/07/boil-water-notices-rural-texas/"
  }
]